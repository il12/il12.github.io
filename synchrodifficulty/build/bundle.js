var app=function(){"use strict";function t(){}function e(t){return t()}function n(){return Object.create(null)}function o(t){t.forEach(e)}function l(t){return"function"==typeof t}function i(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function r(e,...n){if(null==e)return t;const o=e.subscribe(...n);return o.unsubscribe?()=>o.unsubscribe():o}function s(t){let e;return r(t,t=>e=t)(),e}function c(t,e,n){t.$$.on_destroy.push(r(e,n))}function u(t,e,n,o){if(t){const l=a(t,e,n,o);return t[0](l)}}function a(t,e,n,o){return t[1]&&o?function(t,e){for(const n in e)t[n]=e[n];return t}(n.ctx.slice(),t[1](o(e))):n.ctx}function f(t,e,n,o){if(t[2]&&o){const l=t[2](o(n));if(void 0===e.dirty)return l;if("object"==typeof l){const t=[],n=Math.max(e.dirty.length,l.length);for(let o=0;o<n;o+=1)t[o]=e.dirty[o]|l[o];return t}return e.dirty|l}return e.dirty}function d(t,e,n=e){return t.set(n),e}function m(t,e){t.appendChild(e)}function p(t,e,n){t.insertBefore(e,n||null)}function v(t){t.parentNode.removeChild(t)}function h(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function g(t){return document.createElement(t)}function y(t){return document.createTextNode(t)}function $(){return y(" ")}function b(t,e,n,o){return t.addEventListener(e,n,o),()=>t.removeEventListener(e,n,o)}function _(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function x(t){return""===t?void 0:+t}function k(t,e){e=""+e,t.data!==e&&(t.data=e)}function w(t,e){(null!=e||t.value)&&(t.value=e)}function q(t,e,n,o){t.style.setProperty(e,n,o?"important":"")}function M(t,e){for(let n=0;n<t.options.length;n+=1){const o=t.options[n];if(o.__value===e)return void(o.selected=!0)}}function C(t){const e=t.querySelector(":checked")||t.options[0];return e&&e.__value}let N;function V(t){N=t}function E(){if(!N)throw new Error("Function called outside component initialization");return N}function z(t){E().$$.on_mount.push(t)}function O(){const t=E();return(e,n)=>{const o=t.$$.callbacks[e];if(o){const l=function(t,e){const n=document.createEvent("CustomEvent");return n.initCustomEvent(t,!1,!1,e),n}(e,n);o.slice().forEach(e=>{e.call(t,l)})}}}function S(t,e){const n=t.$$.callbacks[e.type];n&&n.slice().forEach(t=>t(e))}const T=[],L=[],D=[],A=[],H=Promise.resolve();let j=!1;function F(t){D.push(t)}let P=!1;const B=new Set;function G(){if(!P){P=!0;do{for(let t=0;t<T.length;t+=1){const e=T[t];V(e),I(e.$$)}for(T.length=0;L.length;)L.pop()();for(let t=0;t<D.length;t+=1){const e=D[t];B.has(e)||(B.add(e),e())}D.length=0}while(T.length);for(;A.length;)A.pop()();j=!1,P=!1,B.clear()}}function I(t){if(null!==t.fragment){t.update(),o(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(F)}}const K=new Set;let R;function Y(){R={r:0,c:[],p:R}}function J(){R.r||o(R.c),R=R.p}function Q(t,e){t&&t.i&&(K.delete(t),t.i(e))}function U(t,e,n,o){if(t&&t.o){if(K.has(t))return;K.add(t),R.c.push(()=>{K.delete(t),o&&(n&&t.d(1),o())}),t.o(e)}}function W(t){t&&t.c()}function X(t,n,i){const{fragment:r,on_mount:s,on_destroy:c,after_update:u}=t.$$;r&&r.m(n,i),F(()=>{const n=s.map(e).filter(l);c?c.push(...n):o(n),t.$$.on_mount=[]}),u.forEach(F)}function Z(t,e){const n=t.$$;null!==n.fragment&&(o(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function tt(t,e){-1===t.$$.dirty[0]&&(T.push(t),j||(j=!0,H.then(G)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function et(e,l,i,r,s,c,u=[-1]){const a=N;V(e);const f=l.props||{},d=e.$$={fragment:null,ctx:null,props:c,update:t,not_equal:s,bound:n(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(a?a.$$.context:[]),callbacks:n(),dirty:u};let m=!1;if(d.ctx=i?i(e,f,(t,n,...o)=>{const l=o.length?o[0]:n;return d.ctx&&s(d.ctx[t],d.ctx[t]=l)&&(d.bound[t]&&d.bound[t](l),m&&tt(e,t)),n}):[],d.update(),m=!0,o(d.before_update),d.fragment=!!r&&r(d.ctx),l.target){if(l.hydrate){const t=function(t){return Array.from(t.childNodes)}(l.target);d.fragment&&d.fragment.l(t),t.forEach(v)}else d.fragment&&d.fragment.c();l.intro&&Q(e.$$.fragment),X(e,l.target,l.anchor),G()}V(a)}class nt{$destroy(){Z(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(){}}const ot=[];function lt(e,n=t){let o;const l=[];function r(t){if(i(e,t)&&(e=t,o)){const t=!ot.length;for(let t=0;t<l.length;t+=1){const n=l[t];n[1](),ot.push(n,e)}if(t){for(let t=0;t<ot.length;t+=2)ot[t][0](ot[t+1]);ot.length=0}}}return{set:r,update:function(t){r(t(e))},subscribe:function(i,s=t){const c=[i,s];return l.push(c),1===l.length&&(o=n(r)||t),i(e),()=>{const t=l.indexOf(c);-1!==t&&l.splice(t,1),0===l.length&&(o(),o=null)}}}}const it=lt({fragmentModalVisibility:!1,modifierModalVisibility:!1}),rt=lt({type:"",name:"",mark:"0.0",duration:"00:00",fragments:[],unique_modifiers:[]}),st=lt({type:"hybrid",duration:null,basicMark:0,numberOfMovements:null,legs:null,direction:null,support:null,rotations:null,difficulty:0,modifiers:[]}),ct=function(){it.update(t=>(t.modifierModalVisibility=!1,t))},ut=function(){it.update(t=>(t.fragmentModalVisibility=!1,t))},at=function(){it.update(t=>(t.fragmentModalVisibility=!0,console.log(t),t))},ft=t=>({}),dt=t=>({}),mt=t=>({}),pt=t=>({}),vt=t=>({}),ht=t=>({});function gt(t){let e,n,l,i,r,s,c,d,h,y,x;const k=t[7].header,w=u(k,t,t[6],ht),M=t[7].body,C=u(M,t,t[6],pt),N=t[7].footer,V=u(N,t,t[6],dt);return{c(){e=g("div"),n=$(),l=g("div"),w&&w.c(),i=$(),r=g("hr"),s=$(),C&&C.c(),c=$(),d=g("hr"),h=$(),V&&V.c(),_(e,"class","modal-background svelte-v61z7e"),_(l,"class","modal svelte-v61z7e"),_(l,"role","dialog"),_(l,"aria-modal","true"),q(l,"--z_index",t[0])},m(u,a,f){p(u,e,a),p(u,n,a),p(u,l,a),w&&w.m(l,null),m(l,i),m(l,r),m(l,s),C&&C.m(l,null),m(l,c),m(l,d),m(l,h),V&&V.m(l,null),t[8](l),y=!0,f&&o(x),x=[b(window,"keydown",t[3]),b(e,"click",t[2])]},p(t,[e]){w&&w.p&&64&e&&w.p(a(k,t,t[6],ht),f(k,t[6],e,vt)),C&&C.p&&64&e&&C.p(a(M,t,t[6],pt),f(M,t[6],e,mt)),V&&V.p&&64&e&&V.p(a(N,t,t[6],dt),f(N,t[6],e,ft)),(!y||1&e)&&q(l,"--z_index",t[0])},i(t){y||(Q(w,t),Q(C,t),Q(V,t),y=!0)},o(t){U(w,t),U(C,t),U(V,t),y=!1},d(i){i&&v(e),i&&v(n),i&&v(l),w&&w.d(i),C&&C.d(i),V&&V.d(i),t[8](null),o(x)}}}function yt(t,e,n){let{z_index:o=1}=e;const l=O(),i=()=>l("close");let r;const s="undefined"!=typeof document&&document.activeElement;var c;s&&(c=()=>{s.focus()},E().$$.on_destroy.push(c));let{$$slots:u={},$$scope:a}=e;return t.$set=t=>{"z_index"in t&&n(0,o=t.z_index),"$$scope"in t&&n(6,a=t.$$scope)},[o,r,i,t=>{if("Escape"!==t.key){if("Tab"===t.key){const e=r.querySelectorAll("*"),n=Array.from(e).filter(t=>t.tabIndex>=0);let o=n.indexOf(document.activeElement);-1===o&&t.shiftKey&&(o=0),o+=n.length+(t.shiftKey?-1:1),o%=n.length,n[o].focus(),t.preventDefault()}}else i()},l,s,a,u,function(t){L[t?"unshift":"push"](()=>{n(1,r=t)})}]}class $t extends nt{constructor(t){super(),et(this,t,yt,gt,i,{z_index:0})}}const bt=t=>({}),_t=t=>({}),xt=t=>({}),kt=t=>({}),wt=t=>({}),qt=t=>({});function Mt(t){let e,n,o,l,i;const r=t[1].header,s=u(r,t,t[0],qt),c=t[1].body,d=u(c,t,t[0],kt),h=t[1].footer,y=u(h,t,t[0],_t);return{c(){e=g("div"),s&&s.c(),n=$(),d&&d.c(),o=$(),y&&y.c(),_(e,"class","modifier svelte-1dz0zhf")},m(r,c,u){p(r,e,c),s&&s.m(e,null),m(e,n),d&&d.m(e,null),m(e,o),y&&y.m(e,null),l=!0,u&&i(),i=b(e,"click",t[2])},p(t,[e]){s&&s.p&&1&e&&s.p(a(r,t,t[0],qt),f(r,t[0],e,wt)),d&&d.p&&1&e&&d.p(a(c,t,t[0],kt),f(c,t[0],e,xt)),y&&y.p&&1&e&&y.p(a(h,t,t[0],_t),f(h,t[0],e,bt))},i(t){l||(Q(s,t),Q(d,t),Q(y,t),l=!0)},o(t){U(s,t),U(d,t),U(y,t),l=!1},d(t){t&&v(e),s&&s.d(t),d&&d.d(t),y&&y.d(t),i()}}}function Ct(t,e,n){let{$$slots:o={},$$scope:l}=e;return t.$set=t=>{"$$scope"in t&&n(0,l=t.$$scope)},[l,o,function(e){S(t,e)}]}class Nt extends nt{constructor(t){super(),et(this,t,Ct,Mt,i,{})}}function Vt(t,e,n){const o=t.slice();return o[32]=e[n],o}function Et(t){let e;return{c(){e=g("div"),e.innerHTML='<div class="col"><h2>New Fragment</h2></div>',_(e,"slot","header")},m(t,n){p(t,e,n)},d(t){t&&v(e)}}}function zt(t){let e;return{c(){e=g("option"),e.textContent="Pair acrobatics",e.__value="pair_acrobatics",e.value=e.__value},m(t,n){p(t,e,n)},d(t){t&&v(e)}}}function Ot(t){let e,n,l,i,r,s,c,u,a,f,d,h,k,q,C,N,V,E,z,O;return{c(){e=g("label"),n=y("Direction\r\n                    "),l=g("select"),i=g("option"),i.textContent="Heads up",s=g("option"),s.textContent="Legs up",u=$(),a=g("label"),f=y("Support type\r\n                    "),d=g("select"),h=g("option"),h.textContent="Lift",q=g("option"),q.textContent="Throw",N=$(),V=g("label"),E=y("360Â° Rotations\r\n                    "),z=g("input"),i.__value=r=.1,i.value=i.__value,s.__value=c=.2,s.value=s.__value,l.required=!0,_(l,"class","custom-select"),void 0===t[7].direction&&F(()=>t[22].call(l)),h.__value=k=0,h.value=h.__value,q.__value=C=.1,q.value=q.__value,d.required=!0,_(d,"class","custom-select"),void 0===t[7].support&&F(()=>t[24].call(d)),z.required=!0,_(z,"type","number"),_(z,"class","form-control")},m(r,c,v){p(r,e,c),m(e,n),m(e,l),m(l,i),m(l,s),t[21](l),M(l,t[7].direction),p(r,u,c),p(r,a,c),m(a,f),m(a,d),m(d,h),m(d,q),t[23](d),M(d,t[7].support),p(r,N,c),p(r,V,c),m(V,E),m(V,z),t[25](z),w(z,t[7].rotations),v&&o(O),O=[b(l,"change",t[22]),b(d,"change",t[24]),b(z,"input",t[26])]},p(t,e){128&e[0]&&M(l,t[7].direction),128&e[0]&&M(d,t[7].support),128&e[0]&&x(z.value)!==t[7].rotations&&w(z,t[7].rotations)},d(n){n&&v(e),t[21](null),n&&v(u),n&&v(a),t[23](null),n&&v(N),n&&v(V),t[25](null),o(O)}}}function St(t){let e,n,l,i,r,s,c,u,a,f;return{c(){e=g("label"),n=y("Number of Movements\r\n                    "),l=g("input"),i=$(),r=g("label"),s=y("Legs\r\n                    "),c=g("select"),u=g("option"),u.textContent="One leg (raising or lifting)",a=g("option"),a.textContent="Two legs (raising or lifting)",l.required=!0,_(l,"class","form-control"),_(l,"type","number"),u.__value="1",u.value=u.__value,a.__value="2",a.value=a.__value,c.required=!0,_(c,"class","custom-select"),void 0===t[7].legs&&F(()=>t[30].call(c))},m(d,v,h){p(d,e,v),m(e,n),m(e,l),t[27](l),w(l,t[7].numberOfMovements),p(d,i,v),p(d,r,v),m(r,s),m(r,c),m(c,u),m(c,a),t[29](c),M(c,t[7].legs),h&&o(f),f=[b(l,"input",t[28]),b(c,"change",t[30])]},p(t,e){128&e[0]&&x(l.value)!==t[7].numberOfMovements&&w(l,t[7].numberOfMovements),128&e[0]&&M(c,t[7].legs)},d(n){n&&v(e),t[27](null),n&&v(i),n&&v(r),t[29](null),o(f)}}}function Tt(t){let e;return{c(){e=g("div"),e.textContent="Your fragment modifiers will be there.\r\n                "},m(t,n){p(t,e,n)},d(t){t&&v(e)}}}function Lt(t){let e,n,o=t[32].category+"";return{c(){e=g("div"),n=y(o),_(e,"slot","header"),_(e,"class","modifier-header svelte-1fsknim")},m(t,o){p(t,e,o),m(e,n)},p(t,e){128&e[0]&&o!==(o=t[32].category+"")&&k(n,o)},d(t){t&&v(e)}}}function Dt(t){let e,n,o=t[32].name+"";return{c(){e=g("div"),n=y(o),_(e,"slot","body"),_(e,"class","modifier-body svelte-1fsknim")},m(t,o){p(t,e,o),m(e,n)},p(t,e){128&e[0]&&o!==(o=t[32].name+"")&&k(n,o)},d(t){t&&v(e)}}}function At(t){let e,n,o=t[32].values[t[8].type]+"";return{c(){e=y("Modifier: "),n=y(o)},m(t,o){p(t,e,o),p(t,n,o)},p(t,e){384&e[0]&&o!==(o=t[32].values[t[8].type]+"")&&k(n,o)},d(t){t&&v(e),t&&v(n)}}}function Ht(t){let e,n,o,l=t[32].category+"",i=t[32].values[t[8].type]+"";return{c(){e=y(l),n=y(": "),o=y(i)},m(t,l){p(t,e,l),p(t,n,l),p(t,o,l)},p(t,n){128&n[0]&&l!==(l=t[32].category+"")&&k(e,l),384&n[0]&&i!==(i=t[32].values[t[8].type]+"")&&k(o,i)},d(t){t&&v(e),t&&v(n),t&&v(o)}}}function jt(t){let e;function n(t,e){return"hybrid"===t[7].type?Ht:At}let o=n(t),l=o(t);return{c(){e=g("div"),l.c(),_(e,"slot","footer"),_(e,"class","modifier-footer svelte-1fsknim")},m(t,n){p(t,e,n),l.m(e,null)},p(t,i){o===(o=n(t))&&l?l.p(t,i):(l.d(1),l=o(t),l&&(l.c(),l.m(e,null)))},d(t){t&&v(e),l.d()}}}function Ft(e){let n,o,l;return{c(){n=$(),o=$(),l=$()},m(t,e){p(t,n,e),p(t,o,e),p(t,l,e)},p:t,d(t){t&&v(n),t&&v(o),t&&v(l)}}}function Pt(t){let e;const n=new Nt({props:{$$slots:{default:[Ft],footer:[jt],body:[Dt],header:[Lt]},$$scope:{ctx:t}}});return n.$on("click",(function(...e){return t[31](t[32],...e)})),{c(){W(n.$$.fragment)},m(t,o){X(n,t,o),e=!0},p(e,o){t=e;const l={};384&o[0]|16&o[1]&&(l.$$scope={dirty:o,ctx:t}),n.$set(l)},i(t){e||(Q(n.$$.fragment,t),e=!0)},o(t){U(n.$$.fragment,t),e=!1},d(t){Z(n,t)}}}function Bt(t){let e,n,l,i,r,s,c,u,a,f,d,k,q,C,N,V,E,z,O,S="solo"!==t[8].type&&zt(),T="pair_acrobatics"===t[7].type&&Ot(t),L="hybrid"===t[7].type&&St(t),D=t[7].modifiers,A=[];for(let e=0;e<D.length;e+=1)A[e]=Pt(Vt(t,D,e));const H=t=>U(A[t],1,1,()=>{A[t]=null});let j=null;return D.length||(j=Tt()),{c(){e=g("div"),n=g("div"),l=g("label"),i=y("Type\r\n                "),r=g("select"),s=g("option"),s.textContent="Hybrid",c=g("option"),c.textContent="Transition",S&&S.c(),u=$(),a=g("label"),a.textContent="Duration (sec)",f=$(),d=g("input"),k=$(),T&&T.c(),q=$(),L&&L.c(),C=$(),N=g("button"),N.textContent="Add modifier",V=$(),E=g("div");for(let t=0;t<A.length;t+=1)A[t].c();j&&j.c(),s.__value="hybrid",s.value=s.__value,c.__value="transition",c.value=c.__value,r.required=!0,_(r,"class","custom-select"),void 0===t[7].type&&F(()=>t[18].call(r)),_(a,"for","duration"),_(d,"id","duration"),d.required=!0,_(d,"type","number"),_(d,"class","form-control"),_(N,"class","btn btn-outline-primary svelte-1fsknim"),_(n,"class","form"),_(E,"class","modifiers svelte-1fsknim"),_(e,"slot","body"),_(e,"class","container svelte-1fsknim")},m(v,h,g){p(v,e,h),m(e,n),m(n,l),m(l,i),m(l,r),m(r,s),m(r,c),S&&S.m(r,null),t[17](r),M(r,t[7].type),m(n,u),m(n,a),m(n,f),m(n,d),t[19](d),w(d,t[7].duration),m(n,k),T&&T.m(n,null),m(n,q),L&&L.m(n,null),m(n,C),m(n,N),m(e,V),m(e,E);for(let t=0;t<A.length;t+=1)A[t].m(E,null);j&&j.m(E,null),z=!0,g&&o(O),O=[b(r,"change",t[12]),b(r,"change",t[18]),b(d,"input",t[20]),b(N,"click",t[10])]},p(t,e){if("solo"!==t[8].type?S||(S=zt(),S.c(),S.m(r,null)):S&&(S.d(1),S=null),128&e[0]&&M(r,t[7].type),128&e[0]&&x(d.value)!==t[7].duration&&w(d,t[7].duration),"pair_acrobatics"===t[7].type?T?T.p(t,e):(T=Ot(t),T.c(),T.m(n,q)):T&&(T.d(1),T=null),"hybrid"===t[7].type?L?L.p(t,e):(L=St(t),L.c(),L.m(n,C)):L&&(L.d(1),L=null),2432&e[0]){let n;for(D=t[7].modifiers,n=0;n<D.length;n+=1){const o=Vt(t,D,n);A[n]?(A[n].p(o,e),Q(A[n],1)):(A[n]=Pt(o),A[n].c(),Q(A[n],1),A[n].m(E,null))}for(Y(),n=D.length;n<A.length;n+=1)H(n);J(),D.length?j&&(j.d(1),j=null):j||(j=Tt(),j.c(),j.m(E,null))}},i(t){if(!z){for(let t=0;t<D.length;t+=1)Q(A[t]);z=!0}},o(t){A=A.filter(Boolean);for(let t=0;t<A.length;t+=1)U(A[t]);z=!1},d(n){n&&v(e),S&&S.d(),t[17](null),t[19](null),T&&T.d(),L&&L.d(),h(A,n),j&&j.d(),o(O)}}}function Gt(e){let n,l,i,r,s;return{c(){n=g("div"),l=g("button"),l.textContent="Save",i=$(),r=g("button"),r.textContent="Dismiss",_(l,"class","btn btn-primary svelte-1fsknim"),_(r,"class","btn btn-danger svelte-1fsknim"),_(n,"slot","footer"),_(n,"class","footer svelte-1fsknim")},m(t,c,u){p(t,n,c),m(n,l),m(n,i),m(n,r),u&&o(s),s=[b(l,"click",e[9]),b(r,"click",ut)]},p:t,d(t){t&&v(n),o(s)}}}function It(e){let n,o;return{c(){n=$(),o=$()},m(t,e){p(t,n,e),p(t,o,e)},p:t,i:t,o:t,d(t){t&&v(n),t&&v(o)}}}function Kt(t){let e;const n=new $t({props:{z_index:"1",$$slots:{default:[It],footer:[Gt],body:[Bt],header:[Et]},$$scope:{ctx:t}}});return n.$on("close",ut),{c(){W(n.$$.fragment)},m(t,o){X(n,t,o),e=!0},p(t,e){const o={};511&e[0]|16&e[1]&&(o.$$scope={dirty:e,ctx:t}),n.$set(o)},i(t){e||(Q(n.$$.fragment,t),e=!0)},o(t){U(n.$$.fragment,t),e=!1},d(t){Z(n,t)}}}function Rt(t,e,n){let o,l;c(t,st,t=>n(7,o=t)),c(t,rt,t=>n(8,l=t));let i,r,u,a,f,m,p,v,h,g=s(st);z(()=>{d(st,o.duration=null,o),d(st,o.numberOfMovements=null,o),d(st,o.legs=1,o),d(st,o.direction=.1,o),d(st,o.support=0,o),d(st,o.rotations=0,o),d(st,o.basicMark=0,o),d(st,o.modifiers=[],o)});let y=it.subscribe(t=>{i=t.fragmentModalVisibility,r=t.modifierModalVisibility});const $=function(t){let e=o.modifiers.findIndex(e=>e===t);d(st,o.modifiers=[...o.modifiers.slice(0,e),...o.modifiers.slice(e+1)],o)};return[u,a,f,m,p,v,h,o,l,function(){let t=s(st),e=s(rt);t.basicMark=function(t){if("transition"===t.type)return.1;if("hybrid"===t.type){let e=t.legs,n=t.duration<16?t.duration<10?.1:.2:.3;return Number(n*e).toFixed(2)}if("pair_acrobatics"===t.type){let e=t.direction,n=t.rotations,o=t.support;return Number(o+e+.1*n).toFixed(2)}}(t,e.type),t.difficulty=function(t,e){let n=t.modifiers.filter(t=>!t.unique),o=Array.from(new Set(t.modifiers.filter(t=>t.unique&&!t.multiplier))),l=t.modifiers.filter(t=>t.multiplier),i=n.reduce((t,n)=>t+n.values[e],0),r=o.reduce((t,n)=>t+n.values[e],0),s=Number(t.basicMark)+Number(i)+Number(r);if(0!==l.length){let t=l.map(t=>t.values[e]);for(let e of t)s*=e}return Number(s).toFixed(2)}(t,e.type),d(rt,l.fragments=[...e.fragments,Object.assign({},t)],l),d(rt,l.mark=function(t){let e=t.fragments.reduce((t,e)=>t+Number(e.difficulty),0);return"hybrid"===t.fragments[t.fragments.length-1].type&&(e+=Number(t.fragments[t.fragments.length-1].basicMark)),Number(e).toFixed(2)}(l),l),d(rt,l.duration=function(t){let e=t.fragments.reduce((t,e)=>t+Number(e.duration),0),n=String(e%60).padStart(2,"0");return`${String(Math.floor(e/60)).padStart(2,"0")}:${n}`}(l),l),ut()},function(){!(u&&u.reportValidity()&&a&&a.reportValidity())||f&&!f.reportValidity()||m&&!m.reportValidity()||p&&!p.reportValidity()||v&&!v.reportValidity()||h&&!h.reportValidity()||it.update(t=>(t.modifierModalVisibility=!0,t))},$,function(){d(st,o.duration=null,o),d(st,o.numberOfMovements=null,o),d(st,o.legs=null,o),d(st,o.basicMark=0,o),d(st,o.modifiers=[],o)},i,r,g,y,function(t){L[t?"unshift":"push"](()=>{n(0,u=t)})},function(){o.type=C(this),st.set(o)},function(t){L[t?"unshift":"push"](()=>{n(1,a=t)})},function(){o.duration=x(this.value),st.set(o)},function(t){L[t?"unshift":"push"](()=>{n(4,p=t)})},function(){o.direction=C(this),st.set(o)},function(t){L[t?"unshift":"push"](()=>{n(5,v=t)})},function(){o.support=C(this),st.set(o)},function(t){L[t?"unshift":"push"](()=>{n(6,h=t)})},function(){o.rotations=x(this.value),st.set(o)},function(t){L[t?"unshift":"push"](()=>{n(2,f=t)})},function(){o.numberOfMovements=x(this.value),st.set(o)},function(t){L[t?"unshift":"push"](()=>{n(3,m=t)})},function(){o.legs=C(this),st.set(o)},t=>$(t)]}class Yt extends nt{constructor(t){super(),et(this,t,Rt,Kt,i,{},[-1,-1])}}function Jt(t,e,n){const o=t.slice();return o[8]=e[n],o}function Qt(t){let e;return{c(){e=g("div"),e.innerHTML="<div>\n            New Modifier\n        </div>",_(e,"slot","header")},m(t,n){p(t,e,n)},d(t){t&&v(e)}}}function Ut(t){let e;return{c(){e=y("Loading...")},m(t,n){p(t,e,n)},d(t){t&&v(e)}}}function Wt(t){let e,n,o=t[8].category+"";return{c(){e=g("div"),n=y(o),_(e,"slot","header"),_(e,"class","modifier-header svelte-1g2abcq")},m(t,o){p(t,e,o),m(e,n)},p(t,e){1&e&&o!==(o=t[8].category+"")&&k(n,o)},d(t){t&&v(e)}}}function Xt(t){let e,n,o=t[8].name+"";return{c(){e=g("div"),n=y(o),_(e,"slot","body"),_(e,"class","modifier-body svelte-1g2abcq")},m(t,o){p(t,e,o),m(e,n)},p(t,e){1&e&&o!==(o=t[8].name+"")&&k(n,o)},d(t){t&&v(e)}}}function Zt(t){let e,n,o=t[8].values[t[2].type]+"";return{c(){e=y("Modifier: "),n=y(o)},m(t,o){p(t,e,o),p(t,n,o)},p(t,e){5&e&&o!==(o=t[8].values[t[2].type]+"")&&k(n,o)},d(t){t&&v(e),t&&v(n)}}}function te(t){let e,n,o,l=t[8].category+"",i=t[8].values[t[2].type]+"";return{c(){e=y(l),n=y(": "),o=y(i)},m(t,l){p(t,e,l),p(t,n,l),p(t,o,l)},p(t,n){1&n&&l!==(l=t[8].category+"")&&k(e,l),5&n&&i!==(i=t[8].values[t[2].type]+"")&&k(o,i)},d(t){t&&v(e),t&&v(n),t&&v(o)}}}function ee(t){let e;function n(t,e){return"hybrid"===t[1].type?te:Zt}let o=n(t),l=o(t);return{c(){e=g("div"),l.c(),_(e,"slot","footer"),_(e,"class","modifier-footer svelte-1g2abcq")},m(t,n){p(t,e,n),l.m(e,null)},p(t,i){o===(o=n(t))&&l?l.p(t,i):(l.d(1),l=o(t),l&&(l.c(),l.m(e,null)))},d(t){t&&v(e),l.d()}}}function ne(e){let n,o,l;return{c(){n=$(),o=$(),l=$()},m(t,e){p(t,n,e),p(t,o,e),p(t,l,e)},p:t,d(t){t&&v(n),t&&v(o),t&&v(l)}}}function oe(t){let e;const n=new Nt({props:{$$slots:{default:[ne],footer:[ee],body:[Xt],header:[Wt]},$$scope:{ctx:t}}});return n.$on("click",(function(...e){return t[7](t[8],...e)})),{c(){W(n.$$.fragment)},m(t,o){X(n,t,o),e=!0},p(e,o){t=e;const l={};2055&o&&(l.$$scope={dirty:o,ctx:t}),n.$set(l)},i(t){e||(Q(n.$$.fragment,t),e=!0)},o(t){U(n.$$.fragment,t),e=!1},d(t){Z(n,t)}}}function le(t){let e,n,o=t[0],l=[];for(let e=0;e<o.length;e+=1)l[e]=oe(Jt(t,o,e));const i=t=>U(l[t],1,1,()=>{l[t]=null});let r=null;return o.length||(r=Ut()),{c(){e=g("div");for(let t=0;t<l.length;t+=1)l[t].c();r&&r.c(),_(e,"slot","body"),_(e,"class","modifiers-table svelte-1g2abcq")},m(t,o){p(t,e,o);for(let t=0;t<l.length;t+=1)l[t].m(e,null);r&&r.m(e,null),n=!0},p(t,n){if(15&n){let s;for(o=t[0],s=0;s<o.length;s+=1){const i=Jt(t,o,s);l[s]?(l[s].p(i,n),Q(l[s],1)):(l[s]=oe(i),l[s].c(),Q(l[s],1),l[s].m(e,null))}for(Y(),s=o.length;s<l.length;s+=1)i(s);J(),o.length?r&&(r.d(1),r=null):r||(r=Ut(),r.c(),r.m(e,null))}},i(t){if(!n){for(let t=0;t<o.length;t+=1)Q(l[t]);n=!0}},o(t){l=l.filter(Boolean);for(let t=0;t<l.length;t+=1)U(l[t]);n=!1},d(t){t&&v(e),h(l,t),r&&r.d()}}}function ie(e){let n,o,l;return{c(){n=g("div"),o=g("button"),o.textContent="Dismiss",_(o,"class","btn btn-danger"),_(n,"slot","footer")},m(t,e,i){p(t,n,e),m(n,o),i&&l(),l=b(o,"click",ct)},p:t,d(t){t&&v(n),l()}}}function re(e){let n,o;return{c(){n=$(),o=$()},m(t,e){p(t,n,e),p(t,o,e)},p:t,i:t,o:t,d(t){t&&v(n),t&&v(o)}}}function se(t){let e;const n=new $t({props:{z_index:"2",$$slots:{default:[re],footer:[ie],body:[le],header:[Qt]},$$scope:{ctx:t}}});return n.$on("close",ct),{c(){W(n.$$.fragment)},m(t,o){X(n,t,o),e=!0},p(t,[e]){const o={};2055&e&&(o.$$scope={dirty:e,ctx:t}),n.$set(o)},i(t){e||(Q(n.$$.fragment,t),e=!0)},o(t){U(n.$$.fragment,t),e=!1},d(t){Z(n,t)}}}function ce(t,e,n){let o,l,i,r;c(t,st,t=>n(1,o=t)),c(t,rt,t=>n(2,l=t));let u=[];z(async()=>{let t=s(rt),e=await fetch("./modifiers.json").then(t=>t.json());n(0,u=e.filter(e=>e.type===o.type&&null!==e.values[t.type]))});let a=it.subscribe(t=>{i=t.fragmentModalVisibility,r=t.modifierModalVisibility});const f=function(t){d(st,o.modifiers=[...o.modifiers,t],o),ct()};return[u,o,l,f,i,r,a,t=>f(t)]}class ue extends nt{constructor(t){super(),et(this,t,ce,se,i,{})}}const ae=t=>({}),fe=t=>({}),de=t=>({}),me=t=>({}),pe=t=>({}),ve=t=>({});function he(t){let e,n,o,l,i,r,s,c;const d=t[1].header,h=u(d,t,t[0],ve),y=t[1].body,x=u(y,t,t[0],me),k=t[1].footer,w=u(k,t,t[0],fe);return{c(){e=g("div"),n=g("div"),h&&h.c(),o=$(),l=g("div"),x&&x.c(),i=$(),r=g("div"),w&&w.c(),_(n,"class","header svelte-i5wihs"),_(l,"class","body svelte-i5wihs"),_(r,"class","footer svelte-i5wihs"),_(e,"class","fragment svelte-i5wihs")},m(u,a,f){p(u,e,a),m(e,n),h&&h.m(n,null),m(e,o),m(e,l),x&&x.m(l,null),m(e,i),m(e,r),w&&w.m(r,null),s=!0,f&&c(),c=b(e,"click",t[2])},p(t,[e]){h&&h.p&&1&e&&h.p(a(d,t,t[0],ve),f(d,t[0],e,pe)),x&&x.p&&1&e&&x.p(a(y,t,t[0],me),f(y,t[0],e,de)),w&&w.p&&1&e&&w.p(a(k,t,t[0],fe),f(k,t[0],e,ae))},i(t){s||(Q(h,t),Q(x,t),Q(w,t),s=!0)},o(t){U(h,t),U(x,t),U(w,t),s=!1},d(t){t&&v(e),h&&h.d(t),x&&x.d(t),w&&w.d(t),c()}}}function ge(t,e,n){let{$$slots:o={},$$scope:l}=e;return t.$set=t=>{"$$scope"in t&&n(0,l=t.$$scope)},[l,o,function(e){S(t,e)}]}class ye extends nt{constructor(t){super(),et(this,t,ge,he,i,{})}}function $e(t,e,n){const o=t.slice();return o[8]=e[n],o[10]=n,o}function be(t){let e;return{c(){e=g("div"),e.innerHTML='<div class="form-check svelte-1kswqd8"><input id="team-unique" type="checkbox" class="form-check-input svelte-1kswqd8"> \n                <label for="team-unique" class="form-check-label">Hight level difficulty pattern\n                    changes\n                    (moving patterns, passing through patterns, close spaced, quick and sharp\n                    surface changes)\n                </label></div>',_(e,"class","svelte-1kswqd8")},m(t,n){p(t,e,n)},d(t){t&&v(e)}}}function _e(e){let n,o,l,i,r;return{c(){n=g("div"),n.innerHTML='<button class="btn btn-outline-primary">Get .asd file</button> \n            <button class="btn btn-outline-primary ">Get .pdf file</button>',o=$(),l=g("div"),i=g("button"),i.textContent="Create new\r\n                fragment",_(n,"class","row svelte-1kswqd8"),_(i,"class","btn btn-primary"),_(l,"class","row-flex svelte-1kswqd8")},m(t,e,s){p(t,n,e),p(t,o,e),p(t,l,e),m(l,i),s&&r(),r=b(i,"click",at)},p:t,d(t){t&&v(n),t&&v(o),t&&v(l),r()}}}function xe(t){let e;return{c(){e=g("div"),e.textContent="Program fragments will be there.\r\n            ",_(e,"class","svelte-1kswqd8")},m(t,n){p(t,e,n)},d(t){t&&v(e)}}}function ke(t){let e,n,o,l,i,r,s=t[10]+1+"",c=t[8].duration+"";return{c(){e=g("div"),n=y("#"),o=y(s),l=g("div"),i=y(c),r=y(" sec."),_(e,"slot","header"),_(e,"class","svelte-1kswqd8"),_(l,"slot","header"),_(l,"class","svelte-1kswqd8")},m(t,s){p(t,e,s),m(e,n),m(e,o),p(t,l,s),m(l,i),m(l,r)},p(t,e){4&e&&c!==(c=t[8].duration+"")&&k(i,c)},d(t){t&&v(e),t&&v(l)}}}function we(t){let e,n,o=t[8].type+"";return{c(){e=g("div"),n=y(o),_(e,"slot","body"),_(e,"class","svelte-1kswqd8")},m(t,o){p(t,e,o),m(e,n)},p(t,e){4&e&&o!==(o=t[8].type+"")&&k(n,o)},d(t){t&&v(e)}}}function qe(t){let e,n,o,l=t[8].difficulty+"";return{c(){e=g("div"),n=y("Diff.: "),o=y(l),_(e,"slot","footer"),_(e,"class","svelte-1kswqd8")},m(t,l){p(t,e,l),m(e,n),m(e,o)},p(t,e){4&e&&l!==(l=t[8].difficulty+"")&&k(o,l)},d(t){t&&v(e)}}}function Me(e){let n,o,l,i;return{c(){n=$(),o=$(),l=$(),i=$()},m(t,e){p(t,n,e),p(t,o,e),p(t,l,e),p(t,i,e)},p:t,d(t){t&&v(n),t&&v(o),t&&v(l),t&&v(i)}}}function Ce(t){let e;const n=new ye({props:{$$slots:{default:[Me],footer:[qe],body:[we],header:[ke]},$$scope:{ctx:t}}});return{c(){W(n.$$.fragment)},m(t,o){X(n,t,o),e=!0},p(t,e){const o={};2052&e&&(o.$$scope={dirty:e,ctx:t}),n.$set(o)},i(t){e||(Q(n.$$.fragment,t),e=!0)},o(t){U(n.$$.fragment,t),e=!1},d(t){Z(n,t)}}}function Ne(t){let e;const n=new Yt({});return{c(){W(n.$$.fragment)},m(t,o){X(n,t,o),e=!0},i(t){e||(Q(n.$$.fragment,t),e=!0)},o(t){U(n.$$.fragment,t),e=!1},d(t){Z(n,t)}}}function Ve(t){let e;const n=new ue({});return{c(){W(n.$$.fragment)},m(t,o){X(n,t,o),e=!0},i(t){e||(Q(n.$$.fragment,t),e=!0)},o(t){U(n.$$.fragment,t),e=!1},d(t){Z(n,t)}}}function Ee(t){let e,n,l,i,r,s,c,u,a,f,d,x,k,q,C,N,V,E,z,O,S,T,L,D,A,H,j,P,B,G,I,K,R,W="team"===t[2].type&&be(),X=t[2].type&&_e(),Z=t[2].fragments,tt=[];for(let e=0;e<Z.length;e+=1)tt[e]=Ce($e(t,Z,e));const et=t=>U(tt[t],1,1,()=>{tt[t]=null});let nt=null;Z.length||(nt=xe());let ot=t[0]&&Ne(),lt=t[1]&&Ve();return{c(){e=g("div"),n=g("div"),l=g("label"),i=y("Program\r\n            "),r=g("select"),s=g("option"),s.textContent="Choose...",c=g("option"),c.textContent="Solo",u=g("option"),u.textContent="Duet",a=g("option"),a.textContent="Team",f=$(),d=g("label"),x=y("Name\r\n            "),k=g("input"),q=$(),C=g("div"),N=g("div"),V=g("label"),E=y("Duration\r\n                "),z=g("input"),O=$(),S=g("div"),T=g("label"),L=y("Difficulty\r\n                "),D=g("input"),A=$(),W&&W.c(),H=$(),X&&X.c(),j=$(),P=g("div");for(let t=0;t<tt.length;t+=1)tt[t].c();nt&&nt.c(),B=$(),ot&&ot.c(),G=$(),lt&&lt.c(),I=y(""),s.disabled=!0,s.__value="",s.value=s.__value,c.__value="solo",c.value=c.__value,u.__value="duet",u.value=u.__value,a.__value="team",a.value=a.__value,_(r,"class","custom-select"),void 0===t[2].type&&F(()=>t[4].call(r)),_(k,"class","form-control svelte-1kswqd8"),_(k,"type","text"),_(n,"class","row svelte-1kswqd8"),_(z,"class","form-control svelte-1kswqd8"),z.disabled=!0,_(z,"type","time"),_(N,"class","svelte-1kswqd8"),_(D,"class","form-control svelte-1kswqd8"),D.disabled=!0,_(D,"type","text"),_(S,"class","svelte-1kswqd8"),_(C,"class","row svelte-1kswqd8"),_(P,"class","fragments svelte-1kswqd8"),_(e,"class","container svelte-1kswqd8")},m(v,h,g){p(v,e,h),m(e,n),m(n,l),m(l,i),m(l,r),m(r,s),m(r,c),m(r,u),m(r,a),M(r,t[2].type),m(n,f),m(n,d),m(d,x),m(d,k),w(k,t[2].name),m(e,q),m(e,C),m(C,N),m(N,V),m(V,E),m(V,z),w(z,t[2].duration),m(C,O),m(C,S),m(S,T),m(T,L),m(T,D),w(D,t[2].mark),m(e,A),W&&W.m(e,null),m(e,H),X&&X.m(e,null),m(e,j),m(e,P);for(let t=0;t<tt.length;t+=1)tt[t].m(P,null);nt&&nt.m(P,null),p(v,B,h),ot&&ot.m(v,h),p(v,G,h),lt&&lt.m(v,h),p(v,I,h),K=!0,g&&o(R),R=[b(r,"change",t[4]),b(k,"input",t[5]),b(z,"input",t[6]),b(D,"input",t[7])]},p(t,[n]){if(4&n&&M(r,t[2].type),4&n&&k.value!==t[2].name&&w(k,t[2].name),4&n&&w(z,t[2].duration),4&n&&D.value!==t[2].mark&&w(D,t[2].mark),"team"===t[2].type?W||(W=be(),W.c(),W.m(e,H)):W&&(W.d(1),W=null),t[2].type?X?X.p(t,n):(X=_e(),X.c(),X.m(e,j)):X&&(X.d(1),X=null),4&n){let e;for(Z=t[2].fragments,e=0;e<Z.length;e+=1){const o=$e(t,Z,e);tt[e]?(tt[e].p(o,n),Q(tt[e],1)):(tt[e]=Ce(o),tt[e].c(),Q(tt[e],1),tt[e].m(P,null))}for(Y(),e=Z.length;e<tt.length;e+=1)et(e);J(),Z.length?nt&&(nt.d(1),nt=null):nt||(nt=xe(),nt.c(),nt.m(P,null))}t[0]?ot?1&n&&Q(ot,1):(ot=Ne(),ot.c(),Q(ot,1),ot.m(G.parentNode,G)):ot&&(Y(),U(ot,1,1,()=>{ot=null}),J()),t[1]?lt?2&n&&Q(lt,1):(lt=Ve(),lt.c(),Q(lt,1),lt.m(I.parentNode,I)):lt&&(Y(),U(lt,1,1,()=>{lt=null}),J())},i(t){if(!K){for(let t=0;t<Z.length;t+=1)Q(tt[t]);Q(ot),Q(lt),K=!0}},o(t){tt=tt.filter(Boolean);for(let t=0;t<tt.length;t+=1)U(tt[t]);U(ot),U(lt),K=!1},d(t){t&&v(e),W&&W.d(),X&&X.d(),h(tt,t),nt&&nt.d(),t&&v(B),ot&&ot.d(t),t&&v(G),lt&&lt.d(t),t&&v(I),o(R)}}}function ze(t,e,n){let o,l,i;c(t,rt,t=>n(2,o=t));let r=it.subscribe(t=>{n(0,l=t.fragmentModalVisibility),n(1,i=t.modifierModalVisibility)});return[l,i,o,r,function(){o.type=C(this),rt.set(o)},function(){o.name=this.value,rt.set(o)},function(){o.duration=this.value,rt.set(o)},function(){o.mark=this.value,rt.set(o)}]}class Oe extends nt{constructor(t){super(),et(this,t,ze,Ee,i,{})}}function Se(e){let n,o,l;const i=new Oe({});return{c(){n=g("div"),n.textContent="v. 0.2.2",o=$(),W(i.$$.fragment),q(n,"font-size","xx-small")},m(t,e){p(t,n,e),p(t,o,e),X(i,t,e),l=!0},p:t,i(t){l||(Q(i.$$.fragment,t),l=!0)},o(t){U(i.$$.fragment,t),l=!1},d(t){t&&v(n),t&&v(o),Z(i,t)}}}return new class extends nt{constructor(t){super(),et(this,t,null,Se,i,{})}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
